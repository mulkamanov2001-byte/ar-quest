<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AR Quest ‚Äì 2 –ú–∞—Ä–∫–µ—Ä–∞</title>
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/aframe/build/aframe-ar.js"></script>
  <style>
    body { 
      margin: 0; 
      overflow: hidden; 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    /* –°—Ç–∞—Ä—Ç–æ–≤–æ–µ –º–µ–Ω—é */
    #start-menu {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      color: white;
      text-align: center;
      padding: 20px;
      box-sizing: border-box;
    }
    
    #start-menu h1 {
      font-size: 2.5em;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    
    .rules {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      padding: 30px;
      border-radius: 20px;
      max-width: 500px;
      margin-bottom: 30px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    }
    
    .rules h2 {
      font-size: 1.5em;
      margin-bottom: 15px;
    }
    
    .rules ol {
      text-align: left;
      font-size: 1.1em;
      line-height: 1.8;
      padding-left: 20px;
    }
    
    .rules li {
      margin-bottom: 10px;
    }
    
    #start-button {
      background: white;
      color: #667eea;
      border: none;
      padding: 15px 40px;
      font-size: 1.3em;
      font-weight: bold;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    #start-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }
    
    #start-button:active {
      transform: translateY(0);
    }
    
    .hidden {
      display: none !important;
    }
    
    /* –ò–≥—Ä–æ–≤–æ–π –æ–≤–µ—Ä–ª–µ–π */
    #ui-overlay {
      position: fixed;
      top: 20px; left: 0; width: 100%;
      text-align: center; color: white; z-index: 1000;
      pointer-events: none;
    }
    
    .message {
      background: rgba(0,0,0,0.7);
      padding: 12px 24px;
      border-radius: 12px;
      display: inline-block;
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .message.show { opacity: 1; }
  </style>
</head>
<body>
  <!-- –°–¢–ê–†–¢–û–í–û–ï –ú–ï–ù–Æ -->
  <div id="start-menu">
    <!-- ========== –ú–ï–ù–Ø–ô–¢–ï –ó–ê–ì–û–õ–û–í–û–ö –ó–î–ï–°–¨ ========== -->
    <h1>üéÆ AR –ö–≤–µ—Å—Ç</h1>
    
    <div class="rules">
      <h2>üìã –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</h2>
      <!-- ========== –ú–ï–ù–Ø–ô–¢–ï –ü–†–ê–í–ò–õ–ê –ó–î–ï–°–¨ ========== -->
      <ol>
        <li>–†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ</li>
        <li>–ù–∞–π–¥–∏—Ç–µ –º–∞—Ä–∫–µ—Ä <strong>HIRO</strong> –∏ –Ω–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É</li>
        <li>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ <strong>—Å–∏–Ω–∏–π –∫—É–±</strong> üü¶</li>
        <li>–ù–∞–π–¥–∏—Ç–µ –º–∞—Ä–∫–µ—Ä <strong>KANJI</strong></li>
        <li>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ <strong>–æ—Ä–∞–Ω–∂–µ–≤—ã–π —à–∞—Ä</strong> üü†</li>
        <li>–ó–∞–≤–µ—Ä—à–∏—Ç–µ –∫–≤–µ—Å—Ç! üéâ</li>
      </ol>
    </div>
    
    <button id="start-button">üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
  </div>

  <!-- –ò–ì–†–û–í–û–ô –û–í–ï–†–õ–ï–ô -->
  <div id="ui-overlay">
    <div class="message" id="message"></div>
  </div>

  <!-- AR –°–¶–ï–ù–ê -->
  <a-scene
    id="ar-scene"
    embedded
    arjs="sourceType: webcam; debugUIEnabled: false;"
    vr-mode-ui="enabled: false"
    style="display: block"
    class="hidden"
  >
    <a-entity camera>
      <a-cursor 
        raycaster="objects: .clickable"
        fuse="false"
      ></a-cursor>
    </a-entity>

    <!-- ========================================== -->
    <!-- –ú–ê–†–ö–ï–† 1: –ó–∞–º–µ–Ω–∏—Ç–µ preset –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–π .patt —Ñ–∞–π–ª -->
    <!-- ========================================== -->
    <!-- –í–ê–†–ò–ê–ù–¢ –ê: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–∞—Ä–∫–µ—Ä HIRO -->
    <a-marker preset="hiro">
    
    <!-- –í–ê–†–ò–ê–ù–¢ –ë: –°–≤–æ–π –º–∞—Ä–∫–µ—Ä (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ .patt) -->
    <!-- <a-marker type="pattern" url="markers/your-marker-1.patt"> -->
    
      <!-- ========== 3D –û–ë–™–ï–ö–¢ 1: –ö–£–ë ========== -->
      <!-- –ß—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ—é 3D-–º–æ–¥–µ–ª—å (.glb/.gltf), –∑–∞–º–µ–Ω–∏—Ç–µ <a-box> –Ω–∞: -->
      <!-- <a-entity gltf-model="url(models/your-model.glb)" ...> -->
      
      <a-box
        id="box1"
        position="0 0.5 0"           
        color="#32b8c6"              
        scale="0.8 0.8 0.8"          
        class="clickable"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 3000"
      >
        <!-- ========== –ù–ê–î–ü–ò–°–¨ –ù–ê–î –û–ë–™–ï–ö–¢–û–ú 1 ========== -->
        <a-text
          value="–≠–¢–ê–ü 1\n–ö–ª–∏–∫–Ω–∏!"   
          position="0 1.2 0"        
          scale="0.5 0.5 0.5"        
          color="white"              
          align="center"
        ></a-text>
      </a-box>
    </a-marker>

    <!-- ========================================== -->
    <!-- –ú–ê–†–ö–ï–† 2: –ó–∞–º–µ–Ω–∏—Ç–µ preset –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–π .patt —Ñ–∞–π–ª -->
    <!-- ========================================== -->
    <!-- –í–ê–†–ò–ê–ù–¢ –ê: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–∞—Ä–∫–µ—Ä KANJI -->
    <a-marker preset="kanji">
    
    <!-- –í–ê–†–ò–ê–ù–¢ –ë: –°–≤–æ–π –º–∞—Ä–∫–µ—Ä (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ .patt) -->
    <!-- <a-marker type="pattern" url="markers/your-marker-2.patt"> -->
    
      <!-- ========== 3D –û–ë–™–ï–ö–¢ 2: –®–ê–† ========== -->
      <!-- –ß—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ—é 3D-–º–æ–¥–µ–ª—å, –∑–∞–º–µ–Ω–∏—Ç–µ <a-sphere> –Ω–∞: -->
      <!-- <a-entity gltf-model="url(models/your-model-2.glb)" ...> -->
      
      <a-sphere
        id="sphere2"
        position="0 0.5 0"           
        radius="0.4"                 
        color="#ff9800"              
        class="clickable"
        visible="false"              
        animation="property: rotation; to: 0 360 0; loop: true; dur: 3000"
      >
        <!-- ========== –ù–ê–î–ü–ò–°–¨ –ù–ê–î –û–ë–™–ï–ö–¢–û–ú 2 ========== -->
        <a-text
          value="–≠–¢–ê–ü 2\n–ö–ª–∏–∫–Ω–∏!"   
          position="0 1.2 0"
          scale="0.5 0.5 0.5"
          color="white"
          align="center"
        ></a-text>
      </a-sphere>
    </a-marker>
  </a-scene>

  <script>
    let stage = 1;

    // ========== –ú–ï–ù–Ø–ô–¢–ï –î–õ–ò–¢–ï–õ–¨–ù–û–°–¢–¨ –ü–û–ö–ê–ó–ê –°–û–û–ë–©–ï–ù–ò–ô (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã) ========== //
    function showMessage(text, duration = 2000) {  // duration - –≤—Ä–µ–º—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
      const msg = document.getElementById('message');
      msg.textContent = text;
      msg.classList.add('show');
      setTimeout(() => msg.classList.remove('show'), duration);
    }

    // –ó–ê–ü–£–°–ö –ò–ì–†–´
    document.getElementById('start-button').addEventListener('click', () => {
      document.getElementById('start-menu').classList.add('hidden');
      document.getElementById('ar-scene').classList.remove('hidden');
      
      setTimeout(() => {
        // ========== –°–û–û–ë–©–ï–ù–ò–ï –ü–†–ò –°–¢–ê–†–¢–ï (–ú–ï–ù–Ø–ô–¢–ï –¢–ï–ö–°–¢ –ò –í–†–ï–ú–Ø) ========== //
        showMessage('–ù–∞–π–¥–∏ –º–∞—Ä–∫–µ—Ä HIRO –∏ –∫–ª–∏–∫–Ω–∏ –Ω–∞ –∫—É–±!', 3000);  // 3000 = 3 —Å–µ–∫—É–Ω–¥—ã
      }, 500);
    });

    window.addEventListener('load', () => {
      const box = document.getElementById('box1');
      const sphere = document.getElementById('sphere2');

      // ========== –ö–õ–ò–ö –ù–ê –û–ë–™–ï–ö–¢ 1 (–ö–£–ë) ========== //
      box.addEventListener('click', () => {
        if (stage === 1) {
          box.setAttribute('visible', 'false');
          
          // ========== –°–û–û–ë–©–ï–ù–ò–ï –ü–û–°–õ–ï –ö–õ–ò–ö–ê –ù–ê –û–ë–™–ï–ö–¢ 1 ========== //
          showMessage('–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å –Ω–∞–π–¥–∏ –º–∞—Ä–∫–µ—Ä KANJI üîç', 3000);  // –ú–ï–ù–Ø–ô–¢–ï –¢–ï–ö–°–¢ –ò –í–†–ï–ú–Ø
          
          sphere.setAttribute('visible', 'true');
          stage = 2;
        }
      });

      // ========== –ö–õ–ò–ö –ù–ê –û–ë–™–ï–ö–¢ 2 (–®–ê–†) ========== //
      sphere.addEventListener('click', () => {
        if (stage === 2) {
          sphere.setAttribute('visible', 'false');
          
          // ========== –°–û–û–ë–©–ï–ù–ò–ï –ü–û–°–õ–ï –ö–õ–ò–ö–ê –ù–ê –û–ë–™–ï–ö–¢ 2 ========== //
          showMessage('üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –ö–≤–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!', 4000);  // –ú–ï–ù–Ø–ô–¢–ï –¢–ï–ö–°–¢ –ò –í–†–ï–ú–Ø
          
          stage = 3;
        }
      });
    });
  </script>
</body>
</html>

